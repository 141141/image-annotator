<html>
<head>
	<title>Annotator test</title>
	<script type="text/javascript" src="jquery-debug.js"></script>
	<script type="text/javascript" src="index.js"></script>
	<script type="text/javascript">
	    var $div, $div2;
	    var x = "640", y = "480";

    	// Test input
	    var input = {
	    	src : "http://lorempixel.com/"+x+"/"+y+"/animals",
	    	width : parseInt(x),
	    	height : parseInt(y),

	    	features : [
	    		{
	    			name : "tail",
		    		required : false,
		    		shape : "poly"
		    	},
		    	{
		    		name : "eyes",
		    		required : true,
		    		shape : "rect"
		    	},
		    	{
		    		name : "feet",
		    		required : true,
		    		shape : "rect"
		    	},
		    	{
		    		name : "neck",
		    		required : false,
		    		shape : "poly"
		    	},
		    	{
		    		name : "nose",
		    		required : true,
		    		shape : "any"
		    	}
	    	],

	    	annotations : {
	    		neck : {
	    			shapes : [
	    				{
    						type : "poly",
    						points : [
    							{x : 10, y : 10},
    							{x : 30, y : 40},
    							{x : 50, y : 12}
    						]
	    				}
	    			]
	    		}
	    	}
	    }

	    function reAnnot() {
	    	input.width = parseInt(x);
	    	input.height = parseInt(y);
	    	input.src = "http://lorempixel.com/"+x+"/"+y+"/animals";
	    	$div.annotator(input);
	    	//$div2.annotator("http://lorempixel.com/"+x+"/"+y+"/animals", parseInt(x)/2, parseInt(y)/2, input);
	    }

		$(document).ready(function() {
			$div = $("#one");
			$div2 = $("#two");
			reAnnot();

			$("#resSel").change(function(e){
				var str = $(this).val();
				var res = str.split("x");
				x = res[0];
				y = res[1];
			});
		});
	</script>
</head>

<body>
	<button onclick="reAnnot();">Re-Annotate</button>
	<select id="resSel">
		<option>640x480</option>
		<option>800x600</option>
		<option>1024x768</option>
	</select>
	<hr/>
	<div id="one"></div>
	<div id="two"></div>
</body>
</html>
